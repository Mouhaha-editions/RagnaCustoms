{% import "songs/macros/song.html.twig" as macro_song %}
{% for score in level['scores'].entities %}

    <tr {% if is_granted('ROLE_USER') and score.user.id == app.user.id %}class="text-warning"{% endif %}>
        <td class="text-right">{{ loop.index+(50*(level['scores'].current-1)) }}.</td>
        <td>{{ score.user.username }}</td>
        <td class="text-right">{{ score.scoreDisplay }} <i data-toggle='tooltip' title="{{ score.plateform }}"
                                                           class="fas {{ score.plateformIcon }}"></i></td>
        <td class="text-right">{{ score.rawPP }}</td>
        <td class="text-right">{{ score.percentageOfPerfects }}</td>
        <td class="text-right">{{ score.timeAgoShort() }}</td>
        <td class="text-right">
            {{ macro_song.statsZipped(score) }}
        </td>
        <td>
            {% if (is_granted('ROLE_USER') and app.user == score.user) or is_granted('ROLE_MODERATOR') %}
                <small><i data-toggle="modal" data-target="#ScatterView"
                          class="fas fa-magnifying-glass scatter-open-score" style="font-size:10px;cursor: pointer"
                          data-score="{{ score.id }}"></i></small>
            {% endif %}
        </td>
    </tr>
{% else %}
    <tr>
        <td colspan="3">{{ "no score for now"|trans }}</td>
    </tr>
{% endfor %}

